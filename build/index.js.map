{"version":3,"sources":["../src/index.js"],"names":["app","use","express","json","urlencoded","extended","req","res","next","instaPhotos","context","photos","routes","listen","process","env","PORT","console","log"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ,C,CAEA;;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAQC,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQC,oBAAQE,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAL,GAAG,CAACC,GAAJ,CAAQ,uBAAR,E,CAEA;AACA;;AACAD,GAAG,CAACC,GAAJ;AAAA,qEAAS,iBAAOK,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEaC,uBAFb;;AAAA;AAAA;AACLH,YAAAA,GAAG,CAACI,OADC;AAEDC,cAAAA,MAFC;AAAA;AAILH,YAAAA,IAAI;;AAJC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAT;;AAAA;AAAA;AAAA;AAAA,K,CAOA;;AACAR,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBW,mBAAOH,WAA/B,E,CAEA;;AACAT,GAAG,CAACa,MAAJ,CAAWC,OAAO,CAACC,GAAR,CAAYC,IAAvB,EAA6B,YAAM;AAC/BC,EAAAA,OAAO,CAACC,GAAR,6BAAiCJ,OAAO,CAACC,GAAR,CAAYC,IAA7C;AACH,CAFD","sourcesContent":["import 'dotenv/config';\nimport express from 'express';\nimport cors from 'cors';\nimport { v4 as uuidv4 } from 'uuid';\n//import models from './models';\nimport routes from './routes';\nimport instaPhotos from './models/instaPhotos';\n\nconst app = express();\n\n// Imported middleware //\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(cors());\n\n// Custom middleware //\n// Wait for response from Instagram API requested in instaPhotos model\napp.use( async (req, res, next) => {\n    req.context = {\n        photos: await instaPhotos,\n    };\n    next();\n});\n\n// Router middleware //\napp.use('/instaPhotos', routes.instaPhotos);\n\n// Run server //\napp.listen(process.env.PORT, () => {\n    console.log(`Listening on port ${process.env.PORT}`);\n});"],"file":"index.js"}